{{> header }}
  <main id="main">
    <div class="container mb-40">
      <div class="row">
        <div class="col-sm-6">
          <div class="mb-20">
            <h1>{{ page.title }}</h1>
          </div>
          {{{ page.content }}}
        </div>
        <div class="col-sm-6 pt-40">
          <form id="contact_form">
            <script src="https://www.google.com/recaptcha/api.js?render=6LdJJN4ZAAAAABZRw5W6x9S2JzMcmN_XvBR0Czk3"></script>  
           
            
            <script>
              function showResult(text) {
                  document.querySelector('#result').innerHTML = text;
              }
          
              function handleClick(token) {
                  return function() {
                      var hello = document.querySelector('#hello').value;
                      var data = {
                          hello: hello,
                          token: token
                      };
          
                      fetch('/send', {
                          headers: {
                              'Accept': 'application/json',
                              'Content-Type': 'application/json'
                          },
                          method: 'post',
                          body: JSON.stringify(data)
                      })
                          .then(response => response.text())
                          .then(text => showResult(text))
                          .catch(error => showResult(error));
                  }
              }
          
              grecaptcha.ready(function() {
                  grecaptcha.execute('  ', {action: 'demo'})
                      .then(function(token) {
                          document.querySelector('#send_button').addEventListener('click', handleClick(token));
                      });
              });
            </script>
            
            <div class="form-group form-group--name">
              <label>Name</label>
              <input name="full_name" type="text" class="form-control input-lg" placeholder="Enter your full name">
            </div>
            <div class="form-group form-group--email">
              <label>Email</label>
              <input name="email" type="text" class="form-control input-lg" placeholder="Enter your email address">
            </div>
            <div class="form-group form-group--phone">
              <label>Phone (Optional)</label>
              <input name="phone" type="text" class="form-control input-lg phone-mask" placeholder="Enter your phone number">
            </div>
            <div class="form-group form-group--password">
              <label>Password</label>
              <input name="password" type="password" class="form-control input-lg" placeholder="Enter your password">
            </div>
            <div class="form-group form-group--password">
              <label>Confirm Password</label>
              <input name="password" type="password" class="form-control input-lg" placeholder="Retype your password">
            </div>
            <div class="alert alert-success success-message hidden">
              {{ page.metadata.contact_form_success_message }}
            </div>
            <div class="alert alert-danger error-message hidden">
              Error
            </div>
            <div class="form-group mt-20">
              <button class="btn btn-primary btn-lg submit-btn" type="submit">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>
{{> footer }}
